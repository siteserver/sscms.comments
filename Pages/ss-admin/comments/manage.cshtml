@page
@{ Layout = "_Layout"; }

<el-row id="commands">
  <el-col :span="12">
    <el-button size="mini" plain type="primary" icon="el-icon-download" style="margin-left: 0;" v-on:click="btnExportClick">
      导 出
    </el-button>
  </el-col>
  <el-col :span="12" align="right">
  </el-col>
</el-row>

<el-divider></el-divider>

<el-table :data="items" stripe style="width: 100%">
  <el-table-column
    label="头像" width="100">
    <template slot-scope="scope">
      <el-link :underline="false" v-on:click="btnViewClick(scope.row.userId)">
        <el-avatar :size="40" :src="scope.row.user.avatarUrl || utils.getAssetsUrl('images/default_avatar.png')"></el-avatar>
      </el-link>
    </template>
  </el-table-column>
  <el-table-column label="评论人" width="160">
    <template slot-scope="scope">
      <el-link :underline="false" type="primary" v-on:click="btnViewClick(scope.row.userId)">{{(scope.row.user.displayName || '匿名用户')}}</el-link>
    </template>
  </el-table-column>
  <el-table-column prop="content" label="评论内容"></el-table-column>
  <el-table-column label="评论时间" align="center" width="160">
    <template slot-scope="scope">
      {{ utils.getFriendlyDate(scope.row.createdDate) }}
    </template>
  </el-table-column>
  <el-table-column
    fixed="right"
    label="操作"
    width="120">
    <template slot-scope="scope">
      <el-link :underline="false" v-on:click="btnEditClick(scope.row.id)" type="primary">编辑</el-link>
      <el-link :underline="false" type="danger" v-on:click="btnDeleteClick(scope.row.id)">删除</el-link>
    </template>
  </el-table-column>
</el-table>

<el-row style="margin-top: 15px;">
  <el-col :span="24" align="center">
    <el-pagination
      size="mini"
      background
      v-on:current-change="handleCurrentChange"
      :current-page="page"
      :page-size="pageSize"
      layout="total, prev, pager, next, jumper"
      :total="total">
    </el-pagination>
  </el-col>
</el-row>

@section Scripts{
  <script src="/assets/comments/js/manage.js" type="text/javascript"></script>
}
